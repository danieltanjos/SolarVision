# SolarVision
> Clareza que transforma energia em resultado

## â˜€ï¸ SolarVision: Monitoramento de Energia Solar

O **SolarVision** Ã© uma aplicaÃ§Ã£o web full-stack desenvolvida para monitoramento e anÃ¡lise de dados de geraÃ§Ã£o de energia solar. A arquitetura Ã© baseada em microsserviÃ§os e utiliza o Docker Compose para orquestraÃ§Ã£o, garantindo um ambiente de desenvolvimento e produÃ§Ã£o consistente e de fÃ¡cil implantaÃ§Ã£o.

## ğŸš€ Tecnologias Utilizadas

Este projeto Ã© construÃ­do com as seguintes tecnologias:

| Componente | Tecnologia | DescriÃ§Ã£o |
| :--- | :--- | :--- |
| **Frontend** | HTML5, CSS3, Bootstrap | Interface de usuÃ¡rio para visualizaÃ§Ã£o e interaÃ§Ã£o. |
| **Servidor Web** | Nginx | Servidor web leve e eficiente, atua como proxy reverso. |
| **Backend (API)** | Node.js (Express) | API RESTful para lÃ³gica de negÃ³cio, autenticaÃ§Ã£o e acesso ao banco de dados. |
| **Banco de Dados** | PostgreSQL | Armazenamento persistente para dados de usuÃ¡rios e leituras de energia. |
| **OrquestraÃ§Ã£o** | Docker, Docker Compose | ContainerizaÃ§Ã£o e gerenciamento de todos os serviÃ§os. |
| **AutenticaÃ§Ã£o** | `bcryptjs` | Criptografia de senhas para seguranÃ§a do usuÃ¡rio. |

## ğŸ“¦ Estrutura do Projeto

O projeto estÃ¡ organizado em diretÃ³rios modulares:

```
SolarVision/
â”œâ”€â”€ app/                  # CÃ³digo do Frontend (HTML, CSS, JS)
â”‚   â”œâ”€â”€ css/              # Arquivos CSS do Bootstrap
â”‚   â”œâ”€â”€ home/             # PÃ¡ginas internas (home, cadastro, configuraÃ§Ãµes, limpeza)
â”‚   â”œâ”€â”€ img/              # Imagens e logotipos
â”‚   â”œâ”€â”€ index.html        # PÃ¡gina inicial
â”‚   â””â”€â”€ login.html        # PÃ¡gina de login
â”œâ”€â”€ backend/              # CÃ³digo do Backend (API Node.js)
â”‚   â”œâ”€â”€ Dados_Tratados... # Exemplo de arquivo CSV para importaÃ§Ã£o de dados
â”‚   â”œâ”€â”€ inserirCSV.py     # Script Python para popular o banco de dados
â”‚   â””â”€â”€ server.js         # LÃ³gica principal da API (rotas de login, registro e dados)
â”œâ”€â”€ postgres-init/        # Scripts de inicializaÃ§Ã£o do PostgreSQL
â”‚   â””â”€â”€ 01-init-schema.sql# CriaÃ§Ã£o das tabelas `usuarios` e `leituras_energia`
â”œâ”€â”€ nginx/                # ConfiguraÃ§Ã£o do Nginx
â”‚   â””â”€â”€ default.conf      # ConfiguraÃ§Ã£o do proxy reverso
â””â”€â”€ docker-compose.yml    # DefiniÃ§Ã£o e orquestraÃ§Ã£o dos serviÃ§os
```

## âš™ï¸ InstalaÃ§Ã£o e ExecuÃ§Ã£o

Para rodar o projeto localmente, vocÃª precisa ter o **Docker** e o **Docker Compose** instalados em sua mÃ¡quina.

### 1. Clonar o RepositÃ³rio

```bash
git clone [URL_DO_SEU_REPOSITORIO]
cd SolarVision
```

### 2. Configurar VariÃ¡veis de Ambiente

O arquivo `docker-compose.yml` jÃ¡ contÃ©m as variÃ¡veis de ambiente necessÃ¡rias. **Ã‰ altamente recomendÃ¡vel que vocÃª altere a senha padrÃ£o** `your_strong_password` para uma senha segura em ambos os serviÃ§os (`backend` e `postgres`).

### 3. Iniciar os ServiÃ§os

Execute o comando abaixo para construir as imagens e iniciar todos os containers em modo *detached* (segundo plano):

```bash
docker-compose up --build -d
```

Aguarde alguns instantes atÃ© que todos os serviÃ§os estejam prontos (o banco de dados e a API precisam iniciar).

### 4. Acessar a AplicaÃ§Ã£o

A aplicaÃ§Ã£o estarÃ¡ acessÃ­vel no seu navegador atravÃ©s da porta `8080`:

[http://localhost:8080](http://localhost:8080)

Basta o usuÃ¡rio criar seu cliente e fazer o login em seguida.

## ğŸ”‘ Rotas da API (Backend)

O backend em Node.js expÃµe as seguintes rotas principais:

| MÃ©todo | Rota | DescriÃ§Ã£o |
| :--- | :--- | :--- |
| `POST` | `/api/register` | Cria um novo usuÃ¡rio no banco de dados. |
| `POST` | `/api/login` | Autentica um usuÃ¡rio e retorna dados bÃ¡sicos. |
| `GET` | `/api/leituras` | Retorna os dados de leitura de energia. Aceita `inicio` e `fim` como parÃ¢metros de query para filtragem por data. |

## ğŸ“Š Banco de Dados (PostgreSQL)

O banco de dados Ã© inicializado com duas tabelas principais:

1.  **`usuarios`**: Armazena informaÃ§Ãµes de login (`nome`, `email`, `senha_hash`).
2.  **`leituras_energia`**: Armazena os dados de monitoramento, com colunas para `dia`, `hora` e `wats5min` (valor em Watts medido a cada 5 minutos).

### PopulaÃ§Ã£o Inicial de Dados

O projeto inclui um container chamado seed-data, uma soluÃ§Ã£o efÃªmera (transitÃ³ria) projetada para realizar a carga inicial dos dados do arquivo .csv para o banco de dados e encerrar sua execuÃ§Ã£o logo em seguida.

## ğŸ›‘ Parar e Remover os ServiÃ§os

Para parar os containers:

```bash
docker-compose stop
```

Para parar e remover os containers, redes e volumes (incluindo os dados do banco):

```bash
docker-compose down -v
```

**AtenÃ§Ã£o:** O comando `down -v` irÃ¡ deletar o volume de dados (`./postgres-data`), removendo permanentemente todos os dados do banco de dados.

---

## Â© direitos autorais

Â© 2025 Solar Vision. Todos os direitos reservados.
